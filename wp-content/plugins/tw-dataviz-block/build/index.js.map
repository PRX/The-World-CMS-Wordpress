{"version":3,"file":"index.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,0C;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,4C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,8CAA8C,yD;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACkD;AACS;AACR;AACP;;AAE5C;AACA;AACA;AACA;AACA;AACuB;;AAEvB;AACA;AACA;AACA;AACA;AACqC;;AAErC;AACA;AACA;AACA;AACA,MAAMM,gBAAgB,GAAGH,iEAAa,CACrCF,sDAAG,EACH;EACCM,KAAK,EAAE,4BAA4B;EACnCC,OAAO,EAAE,gBAAgB;EACzBC,KAAK,EAAE,MAAM;EACbC,MAAM,EAAE,MAAM;EACdC,IAAI,EAAE;AACP,CAAC,EACDR,iEAAa,CAACH,uDAAI,EAAE;EACnBY,CAAC,EAAE;AACJ,CAAC,CACF,CAAC;;AAED;AACA;AACA;AACA,MAAMC,SAAS,GAAG;EACjBC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,UAAU;EACjBC,IAAI,EAAEV,gBAAgB;EACtBW,QAAQ,EAAE,CAACZ,mDAAE,CAAC,OAAO,CAAC,EAAEA,mDAAE,CAAC,OAAO,CAAC,CAAC;EACpCa,WAAW,EAAEb,mDAAE,CAAC,0CAA0C,CAAC;EAC3Dc,QAAQ,EAAE,CAAC,wCAAwC,CAAC;EACpDC,UAAU,EAAE;IACXC,gBAAgB,EAAE,SAAS;IAC3BC,SAAS,EAAE,YAAY;IACvBC,WAAW,EAAE;EACd,CAAC;EACDC,SAAS,EAAE,KAAK;EAChBC,QAAQ,EAAGC,eAAe,IAAK;IAC9B,MAAM;MAAEC;IAAI,CAAC,GAAGD,eAAe;IAC/BE,OAAO,CAACC,GAAG,CAACH,eAAe,CAAC;IAC5B,OAAO,wCAAwC,CAACI,IAAI,CAACH,GAAG,CAAC;EAC1D;AACD,CAAC;AAEDzB,yEAAsB,CAAC,YAAY,EAAEW,SAAS,CAAC;;AAE/C;AACA;AACA;AACAT,2DAAQ,CAAC,MAAM;EACd2B,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,UAAUC,KAAK,EAAE;IACnD,IAAI,OAAOA,KAAK,CAACC,IAAI,CAACC,EAAE,EAAEC,OAAO,EAAE1B,MAAM,KAAK,WAAW,EAAE;MAC1D,MAAM2B,OAAO,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,QAAQ,CAAC;MACnD,MAAM;QACLH,OAAO,EAAE;UAAE1B;QAAO;MACnB,CAAC,GAAGuB,KAAK,CAACC,IAAI,CAACC,EAAE;MACjBE,OAAO,CAACG,OAAO,CAAEC,MAAM,IAAK;QAC3BA,MAAM,CAACC,KAAK,CAAChC,MAAM,GAAG,GAAGA,MAAM,IAAI;MACpC,CAAC,CAAC;IACH;EACD,CAAC,CAAC;AACH,CAAC,CAAC,C","sources":["webpack://tw-dataviz-block/./src/editor.scss","webpack://tw-dataviz-block/external window [\"wp\",\"blocks\"]","webpack://tw-dataviz-block/external window [\"wp\",\"domReady\"]","webpack://tw-dataviz-block/external window [\"wp\",\"element\"]","webpack://tw-dataviz-block/external window [\"wp\",\"i18n\"]","webpack://tw-dataviz-block/external window [\"wp\",\"primitives\"]","webpack://tw-dataviz-block/webpack/bootstrap","webpack://tw-dataviz-block/webpack/runtime/compat get default export","webpack://tw-dataviz-block/webpack/runtime/define property getters","webpack://tw-dataviz-block/webpack/runtime/hasOwnProperty shorthand","webpack://tw-dataviz-block/webpack/runtime/make namespace object","webpack://tw-dataviz-block/./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Registers a new block variation provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-blocks/#registerBlockVariation\n */\nimport { Path, SVG } from \"@wordpress/primitives\";\nimport { registerBlockVariation } from \"@wordpress/blocks\";\nimport { createElement } from \"@wordpress/element\";\nimport domReady from \"@wordpress/dom-ready\";\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport \"./editor.scss\";\n\n/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-i18n/\n */\nimport { __ } from \"@wordpress/i18n\";\n\n/**\n * Component to render SVG of DataViz logo icon.\n * @returns JSX.Element\n */\nconst embedDataVizIcon = createElement(\n\tSVG,\n\t{\n\t\txmlns: \"http://www.w3.org/2000/svg\",\n\t\tviewBox: \"0 -960 960 960\",\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tfill: \"currentColor\",\n\t},\n\tcreateElement(Path, {\n\t\td: \"M280-280h80v-280h-80v280Zm160 0h80v-400h-80v400Zm160 0h80v-160h-80v160ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z\",\n\t}),\n);\n\n/*\n * New `core/embed` block variation.\n */\nconst variation = {\n\tname: \"tw-dataviz\",\n\ttitle: \"Data Viz\",\n\ticon: embedDataVizIcon,\n\tkeywords: [__(\"graph\"), __(\"chart\")],\n\tdescription: __(\"Embed an interactove data visualization.\"),\n\tpatterns: [/^https?:\\/\\/interactive\\.pri\\.org\\/.+/i],\n\tattributes: {\n\t\tproviderNameSlug: \"dataviz\",\n\t\tclassName: \"tw-dataviz\",\n\t\tpreviewable: false,\n\t},\n\tisDefault: false,\n\tisActive: (blockAttributes) => {\n\t\tconst { url } = blockAttributes;\n\t\tconsole.log(blockAttributes);\n\t\treturn /^https?:\\/\\/interactive\\.pri\\.org\\/.+/i.test(url);\n\t},\n};\n\nregisterBlockVariation(\"core/embed\", variation);\n\n/**\n * Add message event handlers that will update iframe height when iframe is resized.\n */\ndomReady(() => {\n\twindow.addEventListener(\"message\", function (event) {\n\t\tif (typeof event.data.tw?.dataviz?.height !== \"undefined\") {\n\t\t\tconst iframes = document.querySelectorAll(\"iframe\");\n\t\t\tconst {\n\t\t\t\tdataviz: { height },\n\t\t\t} = event.data.tw;\n\t\t\tiframes.forEach((iframe) => {\n\t\t\t\tiframe.style.height = `${height}px`;\n\t\t\t});\n\t\t}\n\t});\n});\n"],"names":["Path","SVG","registerBlockVariation","createElement","domReady","__","embedDataVizIcon","xmlns","viewBox","width","height","fill","d","variation","name","title","icon","keywords","description","patterns","attributes","providerNameSlug","className","previewable","isDefault","isActive","blockAttributes","url","console","log","test","window","addEventListener","event","data","tw","dataviz","iframes","document","querySelectorAll","forEach","iframe","style"],"sourceRoot":""}